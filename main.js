(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.removeAttribute("disabled")):(t.classList.add(n.inactiveButtonClass),t.setAttribute("disabled",!0))}function n(e){"keydown"===e.type&&"Escape"===e.key&&c(document.querySelector(".popup_opened"))}function r(e){"mousedown"===e.type&&e.target.classList.contains("popup")&&c(e.target)}function o(e){e.classList.add("popup_opened"),function(e){document.addEventListener("keydown",n),e.addEventListener("mousedown",r)}(e)}function c(e){e.classList.remove("popup_opened"),function(e){document.removeEventListener("keydown",n),e.removeEventListener("mousedown",r)}(e)}e.d({},{y:()=>C});var u=document.querySelector("#popup-add"),a=document.querySelector("#place-form"),i=document.querySelector("#elements-template").content,d=document.querySelector("#popup-add-name"),p=document.querySelector("#popup-add-link"),s=document.querySelector(".popup-card"),l=s.querySelector(".popup-card__description"),m=s.querySelector(".popup-card__image");function v(e){var t=i.querySelector(".new-card__element").cloneNode(!0),n=t.querySelector(".new-card__image");return t.querySelector(".new-card__title").textContent=e.name,n.setAttribute("src",e.link),n.setAttribute("alt",e.name),t.querySelector(".new-card__heart").addEventListener("click",(function(e){e.target.classList.toggle("new-card__heart_active")})),t.querySelector(".new-card__delete").addEventListener("click",(function(){t.remove()})),n.addEventListener("click",(function(){var t;t=e,o(s),l.textContent=t.name,m.src=t.link,m.alt=t.name})),t}a.addEventListener("submit",(function(e){e.preventDefault(),C.prepend(v({name:d.value,link:p.value})),a.reset(),c(u)}));var f,y=document.querySelector(".profile__button-edit"),_=document.querySelector(".profile__button-add"),S=document.querySelectorAll(".popup__close"),q=document.querySelector("#popup-avatar"),k=document.querySelector(".profile").querySelector(".profile__avatar-cover"),L=document.querySelector(".popup"),E=document.querySelector("#heading"),b=document.querySelector("#subheading"),h=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),x=document.querySelector(".popup__main-container"),C=document.querySelector(".elements");f={formSelector:".popup__main-container",inputSelector:".popup__text-input",submitButtonSelector:".popup__confirm-button",inactiveButtonClass:"popup__confirm-button_disabled",inputErrorClass:"popup__text-input_type_error",errorClass:"popup__input-error_active"},Array.from(document.querySelectorAll(f.formSelector)).forEach((function(e){!function(e,n){var r=Array.from(e.querySelectorAll(n.inputSelector)),o=e.querySelector(n.submitButtonSelector);t(r,o,n),e.addEventListener("reset",(function(){setTimeout((function(){t(r,o,n)}),0)})),r.forEach((function(c){c.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove("popup__input-error_active"),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add("popup__input-error_active")}(e,t,t.validationMessage,n)}(e,c,n),t(r,o,n)}))}))}(e,f)})),_.addEventListener("click",(function(){o(u)})),k.addEventListener("click",(function(){o(q)})),x.addEventListener("submit",(function(e){e.preventDefault(),h.textContent=E.value,g.textContent=b.value,c(L)})),function(e,t){[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return t.prepend(v(e))}))}(0,C),y.addEventListener("click",(function(){o(L),E.value=h.textContent,b.value=g.textContent})),S.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return c(t)}))}))})();